@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Source+Sans+Pro:ital,wght@0,200..900;1,200..900&display=swap');
:root {

  /* General */
  --side-padding: 6.5em;

  /* Halmos */
  --halmos-side-length: 0.5rem;
  --halmos--ellipsis-width: 1em;

  /* Colors */
  --gray-900: #2C343A;
  --gray-800: #404C54;
  --gray-700: #53646E;
  --gray-600: #677B89;
  --gray-500: #7F929F;
  --gray-400: #99A8B2;
  --gray-300: #B3BFC6;
  --gray-200: #CED5DA;
  --gray-100: #E8EBED;

  --white: #FFFFFF;
  --lgt-gray: #B3BFC6;
  --med-gray: #7F929F;
  --drk-gray: #2C343A;
  --keyword-blue: #0361A1;

  /* Type */
  --body-line-height: 1.5;
  --header-line-height: 1.25;
  --h1-size: 2.000rem;
  --h2-size: 1.750rem;
  --h3-size: 1.500rem;
  --h4-size: 1.375rem;
  --h5-size: 1.250rem;
  --h6-size: 1.000rem;
  --font-size: 100%;
  --bold: 700;
  --semi: 600;
  --medium: 500;
  --regular: 400;
  --light: 300;

  /* Borders */
  --border-thick: 6px;
  --border-med: 4px;
  --border-thin: 2px;

}


/* CSS Reset */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
}


/* General utilities */
.manuscriptwrapper {
  .error {background-color: pink;}
  .node-with-no-class {background-color: pink;}
  .reference.unknown {background-color: pink;}
  .hide {display: none !important;}
}


/* Outermost wrapper */
.manuscriptwrapper {

  /* Default */
  border-radius: 8px;
  margin: 0 auto;
  max-width: 960px;
  overflow: hidden;
  padding: 0 var(--side-padding) 0 var(--side-padding);
  color: var(--drk-gray);
  font-family: 'Source Sans Pro', sans-serif;
  font-size: var(--font-size);
  font-weight: var(--regular);
  line-height: var(--body-line-height);


  /* Outermost wrapper when the viewport is narrow */
  &.wrapper-narrow {
    margin: 2.5em 15em 2.5em auto;
  }

  /* Outermost wrapper when the the manuscript is embedded in another page */
  &.embedded {
    margin: 0;
    padding-inline: 2.5rem 2.5rem;
    box-shadow: unset;
    border-radius: 0;
  }

}


/* Tooltipster styles */
.tooltipster-sidetip {
  .tooltipster-box {background: var(--white) !important;}
  .tooltipster-arrow-background {border-top-color: var(--white) !important;}
  .tooltipster-content {color: var(--drk-gray) !important;}
}


/* Headings */
.manuscriptwrapper {

  h1, h2, h3, h4, h5 {
    font-family: 'Montserrat', sans-serif;
    line-height: var(--header-line-height);
  }

  h1 {
    font-size: var(--h1-size);
    font-weight: var(--bold);
  }

  h2 {
    font-size: var(--h2-size);
    font-weight: var(--semi);
  }

  h3 {
    font-size: var(--h3-size);
    font-weight: var(--medium);
  }

  h4 {
    font-size: var(--h4-size);
    font-weight: var(--medium);
  }

  h5 {
    font-size: var(--h5-size);
    font-weight: var(--regular);
  }

  /* Margins around the heading but still inside the handrail */
  h1 {margin: calc(var(--h1-size) * 0.75) 0;}
  h2 {margin: calc(var(--h2-size) * 0.75) 0;}
  h3 {margin: calc(var(--h3-size) * 0.75) 0;}
  h4 {margin: calc(var(--h4-size) * 0.75) 0;}
  h5 {margin: calc(var(--h5-size) * 0.75) 0;}

  /* Margins around sections (before headings and after the last paragraph) */
  section {
    &.level-1 {margin-block: var(--h1-size);}
    &.level-2 {margin-block: var(--h2-size);}
    &.level-3 {margin-block: var(--h3-size);}
    &.level-4 {margin-block: var(--h4-size);}
    &.level-5 {margin-block: var(--h5-size);}
  }

  /* Margins around sections in embedded mode */
  &.embedded section {
    .level-1 {margin-block: calc(var(--h1-size) * 0.5);}
    .level-2 {margin-block: calc(var(--h2-size) * 0.75);}
    .level-3 {margin-block: calc(var(--h3-size) * 0.75);}
    .level-4 {margin-block: calc(var(--h4-size) * 0.75);}
    .level-5 {margin-block: calc(var(--h5-size) * 0.75);}
  }

  /* Margins between the heading and the first paragraph */
  .hr.heading {margin-bottom: 16px;}

  /* Margins between most elements */
  .hr {
    margin-block-end: 1em;
  }
  .hr.mathblock {
    margin-block-end: 0em;
  }
/* .manuscriptwrapper ol.enumerate, */
/* .manuscriptwrapper ul.itemize  */


}


/* Handrails: main flexbox */
.manuscriptwrapper {
  .hr {
    display: flex;

    .hr-collapse-zone {flex-shrink: 0;}
    .hr-menu-zone {position: absolute;display: none;}
    .hr-border-zone {flex-shrink: 0;}
    .hr-spacer-zone {flex-shrink: 0;}
    .hr-content-zone {flex-shrink: 1;flex-grow: 1;flex-basis: 0;}
    .hr-info-zone {padding: 8px;flex-shrink: 0;}

    &.hr-offset {position: relative;}
    &.hr-offset > .hr-collapse-zone {position: absolute;left: -48px;}
    &.hr-offset > .hr-menu-zone {position: absolute;left: -32px;}
    &.hr-offset > .hr-border-zone {position: absolute;left: -32px;}
    &.hr-offset > .hr-spacer-zone {position: absolute;left: -16px;}
    &.hr-offset > .hr-info-zone {position: absolute;right: -48px;}

  }
}

/* Handrails: individual elements -- collapse-zone */
.manuscriptwrapper .hr .hr-collapse-zone {
  .hr-collapse {
    position: relative;
    top: 8px;
    border-radius: 8px;
    opacity: 0%;
  }
}
/* Handrails: individual elements -- border-zone */
.manuscriptwrapper .hr .hr-border-zone {
  .hr-border-dots {
    position: relative;
    top: 8px;
    border-radius: 8px;
    background: #EDF0F2;
    z-index: 1;
  }
  .hr-border-rect {
    position: relative;
    top: -32px;
    left: 6px;
    width: 8px;
    height: 100%;
    min-height: 8px;
    border-left: 4px solid #DAE1E5;
    /* border-bottom-left-radius: 8px; */
  }
}
/* Handrails: individual elements -- menu-zone */
.manuscriptwrapper .hr .hr-menu-zone {
  .hr-menu {
    position: relative;
    left: -104px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding-block: 8px;
    background: #FFF;
    border: 1px solid #CCC;
    border-radius: 8px;
    width: 120px;
  }
  .hr-menu-item {
    display: flex;
    padding-inline: 16px;
    gap: 8px;
    align-items: center;
  }
}
/* Handrails: individual elements -- spacer-zone */
.manuscriptwrapper .hr .hr-spacer-zone, .manuscriptwrapper .hr .hr-collapse-zone {
  .hr-spacer {
    height: 0px;
    width: 16px;
  }
}
/* Handrails: individual elements -- content-zone */
.manuscriptwrapper .hr .hr-content-zone {
  & > p:first-child {
    padding-top: 8px;
  }
}
/* Handrails: individual elements -- info-zone */
.manuscriptwrapper .hr .hr-info-zone {
  .hr-info {
    width: 32px;
    height: 32px;
    display: flex;
    justify-content: center;
    align-items: center;

    .eqn-number p, .step-number p {
      font-size: 12px;
      color: #A9B7C1;
    }
  }
}


/* Handrail hover */
.manuscriptwrapper .hr {
  & > .hr-border-zone .hr-border-dots, & > .hr-collapse-zone .hr-collapse {opacity: 0%;}
}
.manuscriptwrapper .hr:hover {
  & > .hr-border-zone .hr-border-dots, & > .hr-collapse-zone .hr-collapse {opacity: 100%;}
}
.manuscriptwrapper .hr.hr-hidden {
  & > .hr-border-zone {opacity: 0%;}
}
.manuscriptwrapper .hr.hr-hidden:hover {
  & > .hr-border-zone {opacity: 100%;}
}


/* Menu interaction */
.manuscriptwrapper .hr {
  .hr-border-dots:hover, .hr-collapse:hover {background: #9ED2F6;}
  .hr-menu-item:hover {background: #D2ECFD;}
}


/* Labeled handrails */
.manuscriptwrapper .hr .hr-content-zone {
  .hr-label {
    padding-block: 8px;
    border-bottom: 1px solid #CCC
  }
}



.manuscriptwrapper .hr {

  .hr-collapse .icon-wrapper,
  .hr-border-dots .icon-wrapper {
    padding-top: 8px;
    padding-bottom: 8px;
  }

  .hr-shift-1 {
    left: 24px;
    width: calc(100% - 24px);
  }

  &.subproof .hr-offset.hr.hr-hidden .hr-border-zone {
    opacity: 100%;
  }

  &.subproof .hr-spacer-zone .hr-spacer {
    width: 8px;
  }

}


/* Icons */
.icon-wrapper {

  svg {width: 16px;height: 16px;}

  &.bookmark > svg {fill: #0E9AE9;stroke: #0E9AE9;}
  &.success > svg {fill: #1FB5A2;stroke: #1FB5A2;}
  &.alert > svg {fill: #F5862B;stroke: #F5862B;}
  &.question > svg {fill: #AD71F2;stroke: #AD71F2;}
  &.heart > svg {fill: #EF4B4C;stroke: #EF4B4C;}
  &.star > svg {fill: #FFD31B;stroke: #FFD31B;}

}


/* TOC */
.manuscriptwrapper {

  ul.contents {
    list-style: none;
    padding-inline-start: 0;
    margin-left: 48px; 		/* temporary */
    margin-top: 1rem;
  }

  ul.contents ul.itemize {
    list-style: none;
    margin-block-end: 0;
    padding-inline-start: 1rem;
  }

}






/* .manuscriptwrapper figure { */
/*   margin-block: var(--h2-size); */
/*   text-align: center; } */
/* .manuscriptwrapper figcaption { */
/*   text-align: center; */
/*   margin-block: var(--h4-size); } */
/* .manuscriptwrapper img, .manuscriptwrapper svg { */
/*   max-width: 100%; } */
/* .manuscriptwrapper .handrail:has(> :nth-child(2).paragraph):has(+ .mathblock) { */
/*   margin-bottom: 0; } */
/* .manuscriptwrapper .mathblock + .handrail:has(> :nth-child(2).paragraph) { */
/*   margin-top: 0; } */
/* .manuscriptwrapper .handrail { */
/*   border-bottom-left-radius: 5px; */
/*   border-width: 0 0 0 var(--border-thin); */
/*   border-color: var(--lgt-gray); */
/*   border-style: solid; */
/*   padding: 0 0 0 var(--handrail-offset); */
/*   margin-block: var(--handrail-margin-block) var(--handrail-margin-block); */
/*   position: relative; } */
/* .manuscriptwrapper .handrail__icons { */
/*   align-items: flex-end; */
/*   display: none; */
/*   flex-direction: column; */
/*   font-size: .8rem; */
/*   left: 0; */
/*   position: absolute; */
/*   top: .5rem; */
/*   transform: translateX(calc(-100% - 1.5*var(--handrail-offset))); } */
/* .manuscriptwrapper .handrail--hug { */
/*   margin-block: 0 0; */
/*   padding: 0 0 0 var(--handrail-offset); } */
/* .manuscriptwrapper .handrail .proof__title, .manuscriptwrapper .handrail .theorem__title { */
/*   padding-block: 1rem; } */
/* .manuscriptwrapper .handrail .theorem__title { */
/*   border-bottom: var(--gray-200) solid 1px; } */
/* .manuscriptwrapper .handrail--hug > p:not(.topic-title), .manuscriptwrapper .handrail--hug > .proof__title { */
/*   padding-block: 0; } */
/* .manuscriptwrapper .handrail--offset { */
/*   transform: translateX(calc(-1 * var(--handrail-offset) - var(--border-thin))); */
/*   width: calc(100% + var(--handrail-offset) + var(--border-thin)); } */
/* .manuscriptwrapper .handrail .handrail--offset { */
/*   border-width: 0 0 0 0; } */
/* .manuscriptwrapper .handrail > h1 { */
/*   margin-block: calc(var(--h1-size) / 2); */
/*   padding-block: calc(var(--h1-size) / 2); } */
/* .manuscriptwrapper .handrail > h2 { */
/*   margin-block: calc(var(--h2-size) / 2); */
/*   padding-block: calc(var(--h2-size) / 2); } */
/* .manuscriptwrapper .handrail > h3 { */
/*   margin-block: calc(var(--h3-size) / 2); */
/*   padding-block: calc(var(--h3-size) / 2); } */
/* .manuscriptwrapper .handrail > h4 { */
/*   margin-block: calc(var(--h4-size) / 2); */
/*   padding-block: calc(var(--h4-size) / 2); } */
/* .manuscriptwrapper .handrail > h5 { */
/*   margin-block: calc(var(--h5-size) / 2); */
/*   padding-block: calc(var(--h5-size) / 2); } */
/* .manuscriptwrapper .handrail--hide { */
/*   border-color: transparent; } */
/* .manuscriptwrapper .proof > .handrail.collapsed .halmos:last-of-type { */
/*   bottom: 0; } */
/* .manuscriptwrapper .halmos { */
/*   display: flex; */
/*   justify-content: flex-end; */
/*   position: absolute; */
/*   right: 0; */
/*   bottom: 1rem; } */
/* .manuscriptwrapper .halmos::after { */
/*   content: ''; */
/*   display: block; */
/*   position: absolute; */
/*   right: 0; */
/*   height: var(--halmos-side-length); */
/*   width: var(--halmos-side-length); */
/*   background-color: var(--keyword-blue); } */
/* .manuscriptwrapper .halmos.with-ellipsis::before { */
/*   content: ''; */
/*   display: flex; */
/*   border-style: solid; */
/*   border-color: var(--keyword-blue) var(--keyword-blue) var(--keyword-blue) var(--keyword-blue); */
/*   border-width: .0625em 0 .0625em .0625em; */
/*   position: absolute; */
/*   right: 8px; */
/*   width: var(--ellipsis-width); */
/*   height: var(--halmos-side-length); */
/*   justify-content: space-evenly; */
/*   align-items: center; */
/*   background: radial-gradient(farthest-side, var(--keyword-blue) 100%, transparent) 2px/2px 2px, radial-gradient(farthest-side, var(--keyword-blue) 100%, transparent) 6px/2px 2px, radial-gradient(farthest-side, var(--keyword-blue) 100%, transparent) 10px/2px 2px; */
/*   background-repeat: no-repeat; } */
.manuscriptwrapper .keyword {
  color: var(--keyword-blue);
  font-weight: var(--bold); }
.manuscriptwrapper p > span.construct:not(:first-child) > span.keyword {
  margin-inline-start: 0.1rem; }
.manuscriptwrapper p > span.construct > span.keyword {
  margin-inline-end: 0.1rem; }
.manuscriptwrapper .proof-contents :last-of-type {
  margin-block-end: 0; }
.manuscriptwrapper .proof div.sketch {
  margin-block: var(--handrail-margin-block) var(--handrail-margin-block); }
.manuscriptwrapper .sketch p:last-of-type {
  padding-block-end: 1rem; }
.manuscriptwrapper .theorem-contents :last-of-type {
  margin-block-end: 0; }
.manuscriptwrapper .theorem > *:last-of-type {
  padding-block-end: 1rem; }
.manuscriptwrapper .definition-contents :last-of-type {
  margin-block-end: 0; }
.manuscriptwrapper .definition p:last-of-type {
  padding-block-end: 1rem; }
.manuscriptwrapper .author > p {
  margin: 0; }
.manuscriptwrapper .highlight.code {
  display: inline-block; }
.manuscriptwrapper dd > p, .manuscriptwrapper dt > p {
  margin-block-end: 0.25em; }
.manuscriptwrapper .proof__header {
  display: flex;
  justify-content: space-between;
  border-bottom: var(--gray-200) solid 1px; }
.manuscriptwrapper .proof__tabs {
  display: inherit; }
.manuscriptwrapper .proof__tabs > button {
  border: none;
  background: var(--white);
  padding-inline: 1rem;
  font-size: 16px;
  color: var(--med-gray); }
.manuscriptwrapper .proof__tabs > button.active {
  color: var(--link-color);
  box-shadow: 0px 10px 0px -5px var(--link-color); }
.manuscriptwrapper .proof__tabs > button:hover {
  color: var(--link-color-hover);
  cursor: pointer; }

/* Bibliography */
.manuscriptwrapper ol.bibliography {
  padding-inline-start: var(--handrail-offset); }
.manuscriptwrapper ol.bibliography li {
  margin-block: 0.75rem; }


/* Tables */
/* .manuscriptwrapper table.table { */
/*   margin-left: auto; */
/*   margin-right: auto; */
/*   text-align: center; */
/*   border-collapse: collapse; */
/*   margin-block: 1em; } */
/* .manuscriptwrapper tbody tr:nth-child(odd) { */
/*   background: var(--gray-100); } */
/* .manuscriptwrapper tbody td.tabledatum { */
/*   padding-inline: 1rem; */
/*   padding-block: 0.5rem; } */
/* .manuscriptwrapper thead.tablehead td.tabledatum { */
/*   padding-inline: 1rem; */
/*   padding-block: 0.75rem; } */
/* .manuscriptwrapper thead.tablehead { */
/*   border-top: var(--border-thin) solid var(--drk-gray); */
/*   border-bottom: calc(var(--border-thin) / 2) solid var(--drk-gray); } */
/* .manuscriptwrapper tbody tr:last-child { */
/*   border-bottom: var(--border-thin) solid var(--drk-gray); } */
/* .manuscriptwrapper table caption { */
/*   caption-side: bottom; */
/*   margin-block: 0.5rem; } */

/* Hyperlinks */
.manuscriptwrapper {

  a:link, .manuscriptwrapper a:visited, .manuscriptwrapper a:active, .manuscriptwrapper a.note__link {
    text-decoration: none;
    color: var(--link-color);
    cursor: pointer;
  }

  a:hover, .manuscriptwrapper a.note__link:hover {
    text-decoration: underline;
    color: var(--link-color-hover);
  }

}



/* RSM predefined types */
.manuscriptwrapper {
  .tiny {font-size: 0.5rem; }
  .smallest {font-size: 0.7rem; }
  .smaller {font-size: 0.8rem; }
  .small {font-size: 0.9rem; }
  .normal {font-size: 1rem; }
  .large {font-size: 1.2rem; }
  .larger {font-size: 1.44rem; }
  .largest {font-size: 1.7281rem; }
  .huge {font-size: 2.0741rem; }
  .huger {font-size: 2.488rem; }
  .draft {color: blue; }
}

/* @media (min-width: 70em) { */
/*   .manuscriptwrapper { */
/*     box-shadow: 0 0 8px 10px #eee; */
/*     margin: 2.5em auto; } */
/*   .manuscriptwrapper--narrow { */
/*     margin: 2.5em 20em 2.5em auto; } */
/*   a.bibitem-doi { */
/*     float: right; } } */

/* @media (max-width: 48em) { */
/*   :root { */
/*     --h1-size: 2.488rem; */
/*     --h2-size: 2.074rem; */
/*     --h3-size: 1.728rem; */
/*     --h4-size: 1.440rem; */
/*     --h5-size: 1.200rem; */
/*     --h6-size: 1.000rem; */
/*     --side-padding: 1.5em; */
/*     --font-size: 93.75%; } */
/*   .manuscriptwrapper { */
/*     padding-left: calc(var(--side-padding)*1.5); } */
/*   .manuscriptwrapper--narrow { */
/*     margin: 2.5em 15em 2.5em auto; } */
/*   .options { */
/*     left: 0; */
/*     right: unset; } */
/*   .options .option { */
/*     text-align: start; } */
/*   .handrail--offset { */
/*     transform: none; */
/*     width: 100%; } */
/*   .handrail--nested { */
/*     transform: translateX(calc(-1 * var(--handrail-offset) - var(--border-thin))); */
/*     width: calc(100% + var(--handrail-offset) + var(--border-thin)); } */
/*   .handrail__icons { */
/*     transform: unset; */
/*     flex-direction: row; */
/*     left: var(--handrail--offset); */
/*     top: 0; */
/*     gap: .25rem; } */
/*   .fas:not(.handrail__icons-last) { */
/*     display: none; } */
/* } */
